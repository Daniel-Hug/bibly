var bibly=window.bibly?window.bibly:{};bibly.version="0.2";bibly.max_nodes=500;bibly.className="bibly_reference";
(function(){function f(){g(document.body,1,i)}function g(a,c,b){for(var d=0;a&&c>0;){d++;if(d>=bibly.max_nodes){setTimeout(function(){g(a,c,b)},50);break}switch(a.nodeType){case 1:if(!j.test(a.tagName)&&a.childNodes.length>0){a=a.childNodes[0];c++;continue}break;case 3:case 4:a=b(a)}if(a.nextSibling)a=a.nextSibling;else for(;c>0;){a=a.parentNode;c--;if(a.nextSibling){a=a.nextSibling;break}}}}var k=RegExp("\\b(?:(I+|1st|2nd|3rd|First|Second|Third|1|2|3)\\s+)?(Genesis|Gen|Exodus|Exod?|Leviticus|Lev|Levit?|Numbers|Nmb|Numb?|Deuteronomy|Deut?|Joshua|Josh?|Judges|Jdg|Judg?|Ruth|Ru|Samuel|Sam|Sml|Kings|Kngs?|Kin?|Chronicles|Chr|Chron|Ezra|Ez|Nehemiah|Nehem?|Esther|Esth?|Job|Jb|Psalms?|Ps[as]?|Proverbs?|Prov?|Ecclesiastes|Eccl?|Songs?ofSolomon|Song?|Songs|Isaiah|Isa|Jeremiah|Jer|Jerem|Lamentations|Lam|Lament?|Ezekiel|Ezek?|Daniel|Dan|Hosea|Hos|Joel|Jo|Amos|Am|Obadiah|Obad?|Jonah|Jon|Micah|Mic|Nahum|Nah|Habakkuk|Hab|Habak|Zephaniah|Zeph|Haggai|Hag|Hagg|Zechariah|Zech?|Malachi|Malac?|Mal|Mat{1,2}hew|Mat{1,2}?|Mark|Mrk|Luke|Lu?k|John|Jhn|Jo|Acts?|Ac|Romans|Rom|Corinthians|Cor|Corin|Galatians|Gal|Galat|Ephesians|Eph|Ephes|Philippians|Phili?|Colossians|Col|Colos|Thessalonians|Thes{1,2}?|Timothy|Tim|Titus|Tts|Tit|Philemon|Phil?|Hebrews|Hebr?|James|Jam|Jms|Peter|Pete?|Jude|Ju|Revelations?|Rev|Revel).?\\s+(\\d+(:\\d+)?(?:\\s?[-\u2013&]\\s?\\d+)?(?:\\s?,\\s?\\d+(:\\d+)?(?:\\s?[-\u2013&]\\s?\\d+)?)*)(?:\\s?;\\s?\\d+:\\d+(?:\\s?[-\u2013&]\\s?\\d+)?)*\\b",
"m"),j=/^(a|script|style|textarea)$/i,i=function(a){var c=k.exec(a.data),b;if(c){b=c[0];c=a.splitText(c.index);c.splitText(b.length);return a=h(a,c)}else return a},h=function(a,c){var b;b=c.textContent.indexOf(",");var d=c.textContent.indexOf(";");b=b>0&&d>0?Math.min(b,d):Math.max(b,d);var e;if(b>0){e=c.splitText(b);for(b=1;b<e.textContent.length&&e.textContent.substring(b,b+1)==" ";)b++;e=e.splitText(b)}b=a.ownerDocument.createElement("A");a.parentNode.replaceChild(b,c);refText=c.textContent;d=l(refText);
b.setAttribute("href",d.shortUrl());b.setAttribute("title","Read "+d.toString());b.setAttribute("class",bibly.className);b.appendChild(c);if(e)b=h(a,e);return b},l=function(a){return{refText:a,shortUrl:function(){return"http://bib.ly/"+a.replace(/\s/ig,"").replace(/:/ig,".").replace(/\ufffd/ig,"-")},toString:function(){return a}}};if(window.attachEvent)window.attachEvent("onload",f);else if(window.addEventListener)window.addEventListener("load",f,false);else{__onload=window.onload;window.onload=function(){f();
__onload()}}})();
