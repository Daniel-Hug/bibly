var bible={};(function(){var a=function(c){return c.split(" ")},b=function(d,k){var e=k.split(" "),m=[],c=null,h,l,f,g;if(d==1){c=["1","I","First"]}else{if(d==2){c=["2","II","Second"]}else{if(d==3){c=["3","III","Third"]}}}for(h=0,l=e.length;h<l;h++){for(f=0,g=c.length;f<g;f++){m.push(c[f]+" "+e[h]);m.push(c[f]+e[h])}}m.unshift(c[0]+e[1]);m.unshift(c[0]+" "+e[0]);return m};bible.Books=[{names:a("Genesis Ge Gen"),verses:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{names:a("Exodus Ex Exo"),verses:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{names:a("Leviticus Le Lev"),verses:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{names:a("Numbers Nu Num"),verses:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{names:a("Deuteronomy Dt Deut Deu De"),verses:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{names:a("Joshua Js Jos Jos Josh"),verses:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{names:a("Judges Jg Jud Jdg Ju Jdgs Judg"),verses:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{names:a("Ruth Ru Rut"),verses:[22,23,18,22]},{names:b(1,"Samuel Sa Sam"),verses:[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{names:b(2,"Samuel Sa Sam"),verses:[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{names:b(1,"Kings Ki King Kin Kngs"),verses:[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{names:b(2,"Kings Ki King Kin Kngs"),verses:[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{names:b(1,"Chronicles Ch Chr"),verses:[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{names:b(2,"Chronicles Ch Chr"),verses:[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{names:a("Ezra Ez Ezr"),verses:[11,70,13,24,17,22,28,36,15,44]},{names:a("Nehemiah Ne Neh Neh Ne"),verses:[11,20,32,23,19,19,73,18,38,39,36,47,31]},{names:a("Esther Es Est Esth"),verses:[22,23,15,17,14,14,10,17,32,3]},{names:a("Job Jb Job"),verses:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{names:a("Psalm Ps Psa Pss"),verses:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{names:a("Proverbs Pr Prov Pro"),verses:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{names:a("Ecclesiastes Ec Ecc"),verses:[18,26,22,16,20,12,29,17,18,20,10,14]},{names:["Song of Solomon","SOS","Song of Songs"],verses:[17,17,11,16,16,13,13,14]},{names:a("Isaiah Isa"),verses:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{names:a("Jeremiah Je Jer"),verses:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{names:a("Lamentations La Lam Lament"),verses:[22,22,66,22,22]},{names:a("Ezekiel Ek Ezek Eze"),verses:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{names:a("Daniel Da Dan Dl Dnl"),verses:[21,49,30,37,31,28,28,27,27,21,45,13]},{names:a("Hosea Ho Hos"),verses:[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{names:a("Joel Jl Joel Joe"),verses:[20,32,21]},{names:a("Amos Am Amos Amo"),verses:[15,16,15,13,27,14,17,14,15]},{names:a("Obadiah Ob Oba Obd Odbh"),verses:[21]},{names:a("Jonah Jh Jon Jnh"),verses:[17,10,10,11]},{names:a("Micah Mi Mic"),verses:[16,13,12,13,15,16,20]},{names:a("Nahum Na Nah Na"),verses:[15,13,19]},{names:a("Habakkuk Hb Hab Hk Habk"),verses:[17,20,19]},{names:a("Zephaniah Zp Zep Zeph Ze"),verses:[18,15,20]},{names:a("Haggia Ha Hag Hagg"),verses:[15,23]},{names:a("Zechariah Zc Zech Zec"),verses:[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{names:a("Malachi Ml Mal Mlc"),verses:[14,17,18,6]},{names:a("Matthew Mt Matt Mat"),verses:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{names:a("Mark Mk Mrk"),verses:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{names:a("Luke Lk Luk Lu"),verses:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{names:a("John Jn Joh Jo"),verses:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{names:a("Acts Ac Act"),verses:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{names:a("Romans Ro Rom Rmn Rmns"),verses:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{names:b(1,"Corinthians Co Cor"),verses:[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{names:b(2,"Corinthians Co Cor"),verses:[24,17,18,18,21,18,16,24,15,18,33,21,14]},{names:a("Galatians Ga Gal Gltns"),verses:[24,21,29,31,26,18]},{names:a("Ephesians Ep Eph Ephn"),verses:[23,22,21,32,33,24]},{names:a("Philippians Phi Phil Phi"),verses:[30,30,21,23]},{names:a("Colossians Co Col Colo Cln Clns"),verses:[29,23,25,18]},{names:b(1,"Thessalonians Th Thess Thes"),verses:[10,20,13,18,28]},{names:b(2,"Thessalonians Th Thess Thes"),verses:[12,17,18]},{names:b(1,"Timothy Ti Tim"),verses:[20,15,16,16,25,21]},{names:b(2,"Timothy Ti Tim"),verses:[18,26,17,22]},{names:a("Titus Ti Tit Tt Ts"),verses:[16,15,15]},{names:a("Philemon Pm Phile Philm Pm"),verses:[25]},{names:a("Hebrews He Heb Hw"),verses:[14,18,19,16,14,20,28,13,28,39,40,29,25]},{names:a("James Jm Jam Jas Ja"),verses:[27,26,18,17,20]},{names:b(1,"Peter Pe Pet P"),verses:[25,25,22,19,14]},{names:b(2,"Peter Pe Pet P"),verses:[21,22,18]},{names:b(1,"John Jo Jn J"),verses:[10,29,24,21,21]},{names:b(2,"John Jo Jn J"),verses:[13]},{names:b(3,"John Jo Jn J"),verses:[14]},{names:a("Jude Jude"),verses:[25]},{names:a("Revelation Re Rev Rvltn"),verses:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,20]}]})();bible.genNames=function(){var c=[],b=0,a=bible.Books.length;for(;b<a;b++){c.push(bible.Books[b].names.join("|"))}return c.join("|")};bible.parseReference=function(q){var a=-1,k=-1,p=-1,h=-1,n=-1,f=new String(q).replace("&ndash;","-").replace("–","-"),o,m,d,r,e=false,g=false,b=false,l="",u,t=null,s;for(o=f.length;o>=0;o--){if(/[A-Za-z\s]/.test(f.substring(o-1,o))){t=f.substring(0,o);break}}if(t!=null){t=t.replace(/\s+$/,"").replace(/\.+$/,"").toLowerCase();for(o=0,d=bible.Books.length;o<d;o++){for(m=0,r=bible.Books[o].names.length;m<r;m++){u=new String(bible.Books[o].names[m]).toLowerCase();if(t==u){a=o;f=f.substring(u.length);break}}}if(a>-1){for(o=0;o<f.length;o++){s=f.charAt(o);if(s==" "||isNaN(s)){if(!b){continue}if(s=="-"||s=="–"){e=true;g=false}else{if(s==":"||s==","||s=="."){g=true}else{}}l="";b=false}else{b=true;l+=s;if(g){if(e){n=parseInt(l)}else{p=parseInt(l)}}else{if(e){h=parseInt(l)}else{k=parseInt(l)}}}}if(bible.Books[a].verses.length==1){if(k>1&&p==-1){p=k;k=1}}if(k>0&&p>0&&h>0&&n<=0){n=h;h=k}if(k>0&&p<=0&&h>0&&n>0){p=1}if(a>-1&&k<=0&&p<=0&&h<=0&&n<=0){k=1}if(typeof bible.Books[a].verses!="undefined"){if(k==-1){k=1}else{if(k>bible.Books[a].verses.length){k=bible.Books[a].verses.length;if(p>0){p=1}}}if(p>bible.Books[a].verses[k-1]){p=bible.Books[a].verses[k-1]}if(n<=p){h=-1;n=-1}}}}return bible.Reference(a,k,p,h,n)};bible.Reference=function(){var a=-1,d=-1,f=-1,c=-1,e=-1,b=arguments;if(b.length==0){}else{if(b.length==1&&typeof b[0]=="string"){return bible.parseReference(b[0])}else{if(b.length==1){return null}else{a=b[0];d=b[1];if(b.length>=3){f=b[2]}if(b.length>=4){c=b[3]}if(b.length>=5){e=b[4]}}}}return{bookIndex:a,chapter:d,verse:f,chapter1:d,verse1:f,chapter2:c,verse2:e,isValid:function(){return(a>-1&&a<bible.Books.length&&d>0)},chapterAndVerse:function(m,h,g){m=m||":";h=h||"-";g=g||"-";var l=this.chapter1,k=this.chapter2,j=this.verse1,i=this.verse2;if(l>0&&j<=0&&k<=0&&i<=0){return l}else{if(l>0&&j>0&&k<=0&&i<=0){return l+m+j}else{if(l>0&&j>0&&k<=0&&i>0){return l+m+j+h+i}else{if(l>0&&j<=0&&k>0&&i<=0){return l+g+k}else{if(l>0&&j>0&&k>0&&i>0){return l+m+j+g+((l!=k)?k+m:"")+i}else{return"?"}}}}}},toString:function(){if(this.bookIndex<0||this.bookIndex>=bible.Books.length){return"invalid"}return bible.Books[this.bookIndex].names[0]+" "+this.chapterAndVerse()},toShortUrl:function(){if(this.bookIndex<0||this.bookIndex>=bible.Books.length){return"invalid"}return"http://bib.ly/"+bible.Books[this.bookIndex].names[1]+this.chapterAndVerse(".","-","-")}}};(function(){var s={version:"0.8.4",maxNodes:500,className:"bibly_reference",enablePopups:true,popupVersion:"ESV",linkVersion:"",bibliaApiKey:"436e02d01081d28a78a45d65f66f4416",autoStart:true,startNodeId:"",maxVerses:4},I=window,d=document,v=null,u="ESV",E=["NET","ESV","KJV","LEB","DARBY"],n=bible.genNames(),e="(1?\\d{1,2})([.:](\\d+))?(\\s?[-–&]\\s?(\\d+))?",b="(1?\\d{1,2})[.:](\\d+)(\\s?[-–&]\\s?(\\d+))?",r="\\b("+n+").?\\s+("+e+"((\\s?,\\s?"+e+")|(\\s?;\\s?"+b+"))*)\\b",z=new RegExp(r,"mi"),F=new RegExp(e,"mi"),m=/^(a|script|style|textarea)$/i,C=null,p=function(T){var Q=z.exec(T.data),U,P,S,R;C=null;if(Q){U=Q[0];P=T.splitText(Q.index);S=P.splitText(U.length);R=o(T,P);return R}else{return T}},o=function(R,W){if(W.nodeValue==null){return W}var T,U=W.nodeValue.indexOf(","),Q=W.nodeValue.indexOf(";"),Y=(U>0&&Q>0)?Math.min(U,Q):Math.max(U,Q),V,X,S,P;if(Y>0){V=W.splitText(Y);P=1;while(P<V.nodeValue.length&&V.nodeValue.substring(P,P+1)==" "){P++}X=V.splitText(P)}refText=W.nodeValue;S=c(refText);if(typeof S!="undefined"&&S.isValid()){T=R.ownerDocument.createElement("A");R.parentNode.replaceChild(T,W);T.setAttribute("href",S.toShortUrl()+(s.linkVersion!=""?"."+s.linkVersion:""));T.setAttribute("title","Read "+S.toString());T.setAttribute("rel",S.toString());T.setAttribute("class",s.className);T.appendChild(W);if(s.enablePopups){f(T,"mouseover",g);f(T,"mouseout",K)}if(X){T=o(R,X)}return T}else{return W}},c=function(S){var V=S,P=new bible.Reference(V),Q=null,U,T,R;if(P!=null&&typeof P.isValid!="undefined"&&P.isValid()){C=P;return P}else{if(C!=null){Q=F.exec(S);if(Q){U=parseInt(Q[1],10);T=parseInt(Q[3],10);R=parseInt(Q[5],10);if(isNaN(T)){T=0}if(isNaN(R)){R=0}if(T==0&&R==0){C.verse1=parseInt(Q[1],10);C.chapter2=-1;C.verse2=-1}else{if(T!=0&&R==0){C.chapter1=parseInt(Q[1],10);C.verse1=parseInt(Q[3],10);C.chapter2=-1;C.verse2=-1}else{if(T!=0&&R!=0){C.chapter1=parseInt(Q[1],10);C.verse1=parseInt(Q[3],10);C.chapter2=-1;C.verse2=parseInt(Q[5],10)}else{if(T==0&&R!=0){C.verse1=parseInt(Q[1],10);C.chapter2=-1;C.verse2=parseInt(Q[5],10)}}}}return C}return{refText:S,toShortUrl:function(){return"http://bib.ly/"+S.replace(/\s/ig,"").replace(/:/ig,".").replace(/–/ig,"-")},toString:function(){return S+" = Can't parse it"}}}}},t=100000,H={},k=function(R,S){var Q="callback"+(t++),P=d.createElement("script");I[Q]=function(T){S(T)};H[R]=Q;R+=(R.indexOf("?")>-1?"&":"?")+"callback="+Q;P.setAttribute("src",R);P.setAttribute("type","text/javascript");v.appendChild(P)},J=function(P){switch(P){case"NET":return'<a href="http://bible.org/">NET Bible® copyright ©1996-2006 by Biblical Studies Press, LLC</a>';case"ESV":return'English Standard Version. Copyright &copy;2001 by <a href="http://www.crosswaybibles.org">Crossway Bibles</a>';case"LEB":case"KJV":return P+' powered by <a href="http://biblia.com/">Biblia</a> web services from <a href="http://www.logos.com/">Logos Bible Software</a>'}},i=function(){var Q=s.popupVersion.toUpperCase(),S=-1,R=0,P=E.length;for(;R<P;R++){if(E[R].toUpperCase()===Q){S=R;break}}return(S>-1)?Q:u},G=function(S,T){var R=i(),Q=s.maxVerses,P=new bible.Reference(S);if(P.verse1>0&&P.verse2>0&&P.verse2-P.verse1>(Q-1)){P.verse2=P.verse1+(Q-1)}else{if(P.verse1<=0&&P.verse2<=0){P.verse1=1;P.verse2=Q}}switch(R){default:case"NET":k("http://labs.bible.org/api/?passage="+encodeURIComponent(P.toString())+"&type=json",T);break;case"KJV":case"LEB":k("http://api.biblia.com/v1/bible/content/"+R+".html.json?style=oneVersePerLine&key="+s.bibliaApiKey+"&passage="+encodeURIComponent(P.toString()),T);break;case"ESV":k("http://www.esvapi.org/crossref/ref.php?reference="+encodeURIComponent(P.toString()),T);break}},x=function(W){var R=i(),U=s.popup,P=s.maxVerses,V="",T=R+"-version",S,Q;switch(R){default:case"NET":for(S=0,Q=W.length;S<Q&&S<P;S++){V+='<span class="bibly_verse_number">'+W[S].verse+"</span>"+W[S].text+" "}break;case"KJV":case"LEB":T+=" biblia";V=W.text;break;case"ESV":V=W.content;break}U.content.innerHTML='<div class="'+T+'">'+V+"</div>"},M,g=function(U){if(!U){U=I.event}O();var T=(U.target)?U.target:U.srcElement,S=s.popup,V=B(T),P=y=0,R=i();referenceText=T.getAttribute("rel"),viewport=D(),scrollPos=q();S.outer.style.display="block";S.header.innerHTML=referenceText+" ("+R+")";S.content.innerHTML="Loading...<br/><br/><br/>";S.footer.innerHTML=J(R);function Q(){P=V.left-(S.outer.offsetWidth/2)+(T.offsetWidth/2);y=V.top-S.outer.clientHeight;if(P<0){P=0}else{if(P+S.outer.clientWidth>viewport.width){P=viewport.width-S.outer.clientWidth-20}}if(y<0||(y<scrollPos.y)){y=V.top+T.offsetHeight+10;S.arrowtop.style.display="block";S.arrowtop_border.style.display="block";S.arrowbot.style.display="none";S.arrowbot_border.style.display="none"}else{y=y-10;S.arrowtop.style.display="none";S.arrowtop_border.style.display="none";S.arrowbot.style.display="block";S.arrowbot_border.style.display="block"}S.outer.style.top=y+"px";S.outer.style.left=P+"px"}Q();G(referenceText,function(W){x(W);Q()})},K=function(P){l()},L=function(P){O()},N=function(P){l()},l=function(){M=setTimeout(j,500)},O=function(){clearTimeout(M);delete M},j=function(){var P=s.popup;P.outer.style.display="none"},B=function(P){var Q=curtop=curtopscroll=curleftscroll=0;if(P.offsetParent){do{Q+=P.offsetLeft;curtop+=P.offsetTop;curleftscroll+=P.offsetParent?P.offsetParent.scrollLeft:0;curtopscroll+=P.offsetParent?P.offsetParent.scrollTop:0}while(P=P.offsetParent)}return{left:Q,top:curtop,leftScroll:curleftscroll,topScroll:curtopscroll}},D=function(){var Q=0,P=0;if(typeof(I.innerWidth)=="number"){Q=I.innerWidth;P=I.innerHeight}else{if(d.documentElement&&(d.documentElement.clientWidth||d.documentElement.clientHeight)){Q=d.documentElement.clientWidth;P=d.documentElement.clientHeight}else{if(v&&(v.clientWidth||v.clientHeight)){Q=v.clientWidth;P=v.clientHeight}}}return{width:Q,height:P}},q=function(){var Q=0,P=0;if(v&&(v.scrollLeft||v.scrollTop)){P=v.scrollTop;Q=v.scrollLeft}else{if(d.documentElement&&(d.documentElement.scrollLeft||d.documentElement.scrollTop)){P=d.documentElement.scrollTop;Q=d.documentElement.scrollLeft}else{if(typeof(I.pageYOffset)=="number"){P=I.pageYOffset;Q=I.pageXOffset}}}return{x:Q,y:P}},a=function(P){w(P.childNodes[0],1,p)},w=function(R,S,P){var Q=0;while(R&&S>0){Q++;if(Q>=s.maxNodes){setTimeout(function(){w(R,S,P)},50);return}switch(R.nodeType){case 1:if(!m.test(R.tagName)&&R.childNodes.length>0){R=R.childNodes[0];S++;continue}break;case 3:case 4:R=P(R);break}if(R.nextSibling){R=R.nextSibling}else{while(S>0){R=R.parentNode;S--;if(R.nextSibling){R=R.nextSibling;break}}}}},f=function(S,P,R){if(S.attachEvent){S.attachEvent("on"+P,R)}else{if(S.addEventListener){S.addEventListener(P,R,false)}else{var Q=S["on"+P];S["on"+P]=function(){R();Q()}}}},A=false,h=function(){if(A){return}A=true;d=document;v=d.body;var U=s.popup={outer:d.createElement("div")},T=["header","content","footer","arrowtop_border","arrowtop","arrowbot_border","arrowbot"],R,P,V,Q,S=null;U.outer.className="bibly_popup_outer";for(R=0,P=T.length;R<P;R++){Q=T[R];V=d.createElement("div");V.className="bibly_popup_"+Q;U.outer.appendChild(V);U[Q]=V}v.appendChild(U.outer);f(U.outer,"mouseover",L);f(U.outer,"mouseout",N);if(s.autoStart){if(s.startNodeId!=""){S=d.getElementById(s.startNodeId)}if(S==null){S=v}a(S)}};f(d,"DOMContentLoaded",h);f(I,"load",h);s.startBibly=h;s.scanForReferences=a;I.bibly=s})();